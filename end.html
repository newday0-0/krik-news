<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>–ó–∞–±—ã—Ç–æ–µ –º–µ—Å—Ç–æ</title>
<style>
  body {
    margin: 0;
    padding: 0;
    height: 100vh;
    background: radial-gradient(circle at center, #111 0%, #000 100%);
    background-size: cover;
    color: #ddd;
    font-family: "Georgia", serif;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
  }
  #container {
    max-width: 800px;
    padding: 20px;
    text-align: center;
  }
  .hidden { display: none; }
  .line {
    opacity: 0;
    animation: fadeIn 2s forwards;
  }
  @keyframes fadeIn {
    to { opacity: 1; }
  }
  .flicker {
    animation: flicker 2s infinite;
  }
  @keyframes flicker {
    0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
      text-shadow: 0 0 5px #aaa, 0 0 10px #999, 0 0 20px #777;
    }
    20%, 24%, 55% {
      text-shadow: none;
    }
  }
  .red { color: #a33; font-weight: bold; }
  button {
    background: #222;
    border: 1px solid #555;
    color: #ddd;
    padding: 10px 20px;
    margin-top: 20px;
    cursor: pointer;
    font-family: inherit;
  }
  button:hover { background: #333; }
  #blackout {
    position: fixed;
    top:0; left:0; width:100%; height:100%;
    background: #000;
    z-index: 10;
    display: none;
  }
  /* —à—É–º –¥–ª—è blackout */
  #blackout::after {
    content: "";
    position: absolute;
    width:100%; height:100%;
    background: url("https://i.imgur.com/o5zQ9mH.png"); /* —à—É–º */
    opacity: 0.2;
  }
  .poem-line {
    opacity: 0;
    animation: fadeIn 2s forwards;
    margin: 10px 0;
  }
  .highlight {
    font-weight: bold;
    color: #fff;
  }
</style>
</head>
<body>
<div id="container"></div>
<div id="blackout"></div>

<audio autoplay loop>
  <source src="https://cdn.pixabay.com/download/audio/2023/04/03/audio_1a3e6d5119.mp3?filename=creepy-whispers-143194.mp3" type="audio/mpeg">
</audio>

<script>
const container = document.getElementById('container');
const blackout = document.getElementById('blackout');

const block1 = [
  "–¢—ã‚Ä¶",
  "–¢—ã –ø—Ä–∏—à—ë–ª‚Ä¶",
  "–ù–æ –∑–∞—á–µ–º?‚Ä¶",
  "–¢–µ–±–µ –æ–Ω–æ –Ω–∞–¥–æ?‚Ä¶",
  "–¢—ã –¥—É–º–∞–µ—à—å, —á—Ç–æ –¥–æ–±–µ—Ä—ë—à—å—Å—è –¥–æ –∏—Å—Ç–∏–Ω—ã‚Ä¶",
  "–≠—Ç–æ –Ω–µ —Ç–∞–∫‚Ä¶",
  "–õ–æ–∂—å —Å—Ç–∞–Ω–µ—Ç —Ç–≤–æ–µ–π —Ç–µ–Ω—å—é.",
  "–¢—ã –æ—à–∏–±–∞–µ—à—å—Å—è.",
  "–¢–µ–±–µ –Ω–µ —Å–ø–∞—Å—Ç–∏ –∏—Ö.",
  "–¢—ã –Ω–µ –≤—Å–µ–≤–ª–∞—Å—Ç–µ–Ω.",
  "–ù–µ–ª—å–∑—è –≤—Å—ë —Ä–µ—à–∏—Ç—å –æ–¥–Ω–∏–º –∂–µ–ª–∞–Ω–∏–µ–º.",
  "–ö–∞–∂–¥—ã–π –±—É–¥–µ—Ç —Å—Ç—Ä–∞–¥–∞—Ç—å.",
  "–ú–∏—Ä—É –Ω–µ —Å—É–∂–¥–µ–Ω–æ –Ω–∞—Å—Ç–∞—Ç—å.",
  "–ö–∞–∫ –±—ã —Ç—ã –Ω–µ —Å—Ç–∞—Ä–∞–ª—Å—è.",
  "–ö–∞–∫ –±—ã –Ω–µ –ª–µ–∑ –∏–∑ –∫–æ–∂–∏ –≤–æ–Ω.",
  "–ö–∞–∫ –±—ã –Ω–µ –±—ã–ª–∞ —Å–∏–ª—å–Ω–∞ —Ç–≤–æ—è –≤–æ–ª—è.",
  "–í—Å—ë –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞.",
  "<span class='red'>[êä¥êä†êä®êä¢]</span> –Ω–µ–∏–∑–±–µ–∂–µ–Ω.",
  "–°–∞–º–æ–µ –≤—Ä–µ–º—è —Å–¥–∞—Ç—å—Å—è."
];

const block2 = [
  "–¢—ã –Ω–µ –ø–æ–Ω—è–ª?",
  "–¢—ã –Ω–∏—á—Ç–æ –ø—Ä–µ–¥–æ –º–Ω–æ–π.",
  "–•–≤–∞—Ç–∏—Ç –∏–≥—Ä–∞—Ç—å –≤ —Ä—ã—Ü–∞—Ä—è.",
  "–ß—É–¥–µ—Å –Ω–µ –±—ã–≤–∞–µ—Ç"
];

const block3 = [
  "–•–æ—Ä–æ—à–æ‚Ä¶",
  "–ü—É—Ç–∏ –Ω–∞–∑–∞–¥ –Ω–µ—Ç"
];

const poem = [
  "<span class='highlight'>@</span>—Ç–µ–Ω—å –∑–∞–º–∫–∞ —Å–∫–æ–ª—å–∑–∏—Ç –º–µ–∂ —Å—Ç—Ä–æ–∫ –∑–∞–±—ã—Ç—ã—Ö —Ö—Ä–æ–Ω–∏–∫,",
  "<span class='highlight'>g</span>–ª—É–±—å –æ–∑–µ—Ä–∞ - –±–µ–∑–¥–Ω–∞ –∑–µ—Ä–∫–∞–ª –∏ –ø–æ—Ä–æ–≥,",
  "<span class='highlight'>a</span> –ª–∏—Å—Ç—å—è —Å–∞–¥–æ–≤ —à–µ–ø—á—É—Ç —Ç–∞–π–Ω—ã –∑–∞–±—ã—Ç—ã—Ö –≤–µ—Ç—Ä–æ–≤,",
  "<span class='highlight'>n</span>–∞–¥ –ø–µ–ø–ª–æ–º –∫–æ—Å—Ç—Ä–∞ —Ç–∞–Ω—Ü—É–µ—Ç –¥—ã–º –Ω–µ–ø—Ä–æ—Å—Ç—ã—Ö —Å–Ω–æ–≤,",
  "<span class='highlight'>b</span>—Ä–æ—à–µ–Ω–Ω—ã–π —Å–∞—Ä–∞–π - –ø–æ—Ä–æ–≥ –º–∏—Ä–æ–≤ –∏ –∑–∞–±–≤–µ–Ω–∏—è,",
  "<span class='highlight'>a</span> –Ω–∞ —è—Ä–º–∞—Ä–∫–µ —Ç–µ–Ω–µ–π –º–µ—Ä—Ü–∞—é—Ç –æ—Ç–±–ª–µ—Å–∫–∏ –∑–∞–±–≤–µ–Ω–∏—è,",
  "<span class='highlight'>r</span>–∞–∑—Ä–µ–∑–∞—è –Ω–æ—á–∏, —Å—Ç—Ä–∞–∂ –≤–µ–¥—ë—Ç –∫ —Ç–∞–π–Ω–∞–º –∏ —Å–Ω–∞–º,",
  "<span class='highlight'>u</span>–π—Ç–∏ ‚Äî —Ä–∞—Å—Ç–≤–æ—Ä–∏—Ç—å—Å—è –≤ —ç—Ö–æ –±–µ–∑–º–æ–ª–≤–Ω—ã—Ö –º–æ–ª–∏—Ç–≤,",
  "<span class='highlight'>0</span>—Ç—Ä–∞–∂–µ–Ω—å–µ –≤ –º—Ä–∞–∫–µ ‚Äî –∑–Ω–∞–∫ –ø—É—Ç–∏ —Å–∫–≤–æ–∑—å –∑–∞–±–≤–µ–Ω—å–µ,",
  "<span class='highlight'>0</span>–≥–Ω–µ–Ω–Ω—ã–π —Å–≤–µ—Ç –∑–≤–µ–∑–¥—ã ‚Äî –∑–æ–≤, —á—Ç–æ –≤–µ–¥—ë—Ç —Å–∫–≤–æ–∑—å —Ç—å–º—É,",
  "<span class='highlight'>0</span>—Ç–ø–µ—á–∞—Ç–æ–∫ –¥—É—à–∏ ‚Äî –∫–ª—é—á –∫ –¥–≤–µ—Ä–∏ –±–µ–∑–º—è—Ç–µ–∂–Ω–æ–π,"
];

function showLines(lines, callback) {
  let i = 0;
  function next() {
    if (i < lines.length) {
      const p = document.createElement("p");
      p.className = "line flicker";
      p.innerHTML = lines[i];
      container.appendChild(p);
      i++;
      setTimeout(next, 2000);
    } else {
      const btn = document.createElement("button");
      btn.textContent = "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å";
      btn.onclick = callback;
      container.appendChild(btn);
    }
  }
  next();
}

function startBlock2() {
  container.innerHTML = "";
  showLines(block2, startBlock3);
}

function startBlock3() {
  container.innerHTML = "";
  showLines(block3, startBlackout);
}

function startBlackout() {
  container.innerHTML = "";
  blackout.style.display = "block";
  setTimeout(()=>{
    blackout.style.display = "none";
    startPoem();
  }, 10000);
}

function startPoem() {
  container.innerHTML = "";
  let i = 0;
  function nextLine() {
    if (i < poem.length) {
      const p = document.createElement("p");
      p.className = "poem-line";
      p.style.animationDelay = "0s";
      p.innerHTML = poem[i];
      container.appendChild(p);
      i++;
      setTimeout(nextLine, 2500);
    }
  }
  nextLine();
}

// –∑–∞–ø—É—Å–∫
showLines(block1, startBlock2);
</script>
</body>
</html>
